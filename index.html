<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ù–∏–∫–æ–ª—å—Å–∫–∏–π –º—É–∑–µ–π–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å (–ù–ò–ö–ú–ö) | –ì–ª–∞–≤–Ω–∞—è</title>
    <!-- –ò–°–ü–†–ê–í–õ–ï–ù–û: —É–¥–∞–ª–µ–Ω—ã –ø—Ä–æ–±–µ–ª—ã -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@300;400;500;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- –®–∞–ø–∫–∞ —Å–∞–π—Ç–∞ -->
    <header class="header">
        <div class="container">
            <div class="header-top">
                <div class="logo">
                    <h1>üèõÔ∏è –ù–∏–∫–æ–ª—å—Å–∫–∏–π –º—É–∑–µ–π–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å (–ù–ò–ö–ú–ö)</h1>
                    <p>–ü–µ–Ω–∑–µ–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</p>
                </div>
                <nav class="main-nav">
                    <ul>
                        <li><a href="index.html" class="active">–ì–ª–∞–≤–Ω–∞—è</a></li>
                        <li><a href="about.html">–û –º—É–∑–µ–µ</a></li>
                        <li><a href="exhibitions.html">–í—ã—Å—Ç–∞–≤–∫–∏</a></li>
                        <li><a href="collections.html">–ö–æ–ª–ª–µ–∫—Ü–∏–∏</a></li>
                        <li><a href="visit.html">–ü–æ—Å–µ—Ç–∏—Ç–µ–ª—è–º</a></li>
                        <li><a href="contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                    </ul>
                </nav>
                <button class="menu-toggle">‚ò∞</button>
            </div>

            <div class="hero">
                <div class="hero-content">
                    <h2>–ò—Å—Ç–æ—Ä–∏—è –ù–∏–∫–æ–ª—å—Å–∫–∞ –≥–ª–∞–∑–∞–º–∏ –ø—Ä–µ–¥–∫–æ–≤</h2>
                    <p>–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —ç–∫—Å–ø–æ–Ω–∞—Ç—ã, —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é—â–∏–µ –æ –ø—Ä–æ—à–ª–æ–º –Ω–∞—à–µ–≥–æ —Ä–æ–¥–Ω–æ–≥–æ –∫—Ä–∞—è</p>
                    <div class="hero-buttons">
                        <a href="exhibitions.html" class="btn btn-primary">–¢–µ–∫—É—â–∏–µ –≤—ã—Å—Ç–∞–≤–∫–∏</a>
                        <a href="visit.html" class="btn btn-secondary">–ü–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –≤–∏–∑–∏—Ç</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main>
        <!-- –ù–æ–≤–æ—Å—Ç–∏ (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Å–ª–∞–π–¥–µ—Ä) -->
        <section class="section" id="news-section">
            <div class="container">
                <h2 class="section-title">–ù–æ–≤–æ—Å—Ç–∏ –º—É–∑–µ—è</h2>
                <div class="news-slider-container">
                    <div class="news-main-slide" id="news-main-slide">
                        <!-- –û—Å–Ω–æ–≤–Ω–æ–π —Å–ª–∞–π–¥ —Å –ø–æ—Å–ª–µ–¥–Ω–µ–π –Ω–æ–≤–æ—Å—Ç—å—é -->
                        <div class="news-loading">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –Ω–æ–≤–æ—Å—Ç–∏...</div>
                    </div>

                    <div class="news-carousel">
                        <div class="carousel-controls">
                            <button class="carousel-btn prev-btn" onclick="changeSlide(-1)">‚Üê</button>
                            <div class="carousel-wrapper">
                                <div class="carousel-inner" id="carousel-inner">
                                    <!-- –ú–∏–Ω–∏-–Ω–æ–≤–æ—Å—Ç–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Å—é–¥–∞ -->
                                    <div class="carousel-loading">–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π...</div>
                                </div>
                            </div>
                            <button class="carousel-btn next-btn" onclick="changeSlide(1)">‚Üí</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- –ê–Ω–æ–Ω—Å—ã –≤—ã—Å—Ç–∞–≤–æ–∫ -->
        <section class="section">
            <div class="container">
                <h2 class="section-title">–¢–µ–∫—É—â–∏–µ –≤—ã—Å—Ç–∞–≤–∫–∏</h2>
                <div class="exhibitions-grid">
                    <div class="exhibition-card">
                        <div class="exhibition-image">
                            <!-- –ò–°–ü–†–ê–í–õ–ï–ù–û: —É–¥–∞–ª–µ–Ω—ã –ø—Ä–æ–±–µ–ª—ã –≤ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
                            <img src="https://via.placeholder.com/400x300/4a6fa5/ffffff?text=–ò—Å—Ç–æ—Ä–∏—è+–ù–∏–∫–æ–ª—å—Å–∫–∞"
                                alt="–ò—Å—Ç–æ—Ä–∏—è –ù–∏–∫–æ–ª—å—Å–∫–∞">
                        </div>
                        <div class="exhibition-info">
                            <h3>–ò—Å—Ç–æ—Ä–∏—è –ù–∏–∫–æ–ª—å—Å–∫–∞ —Å –¥—Ä–µ–≤–Ω–æ—Å—Ç–∏</h3>
                            <p class="exhibition-date">üìÖ –¥–æ 15 –º–∞—Ä—Ç–∞ 2026</p>
                            <p>–†–∞–∑–¥–µ–ª—ã –æ –ø–µ—Ä–≤—ã—Ö –ø–æ—Å–µ–ª–µ–Ω–∏—è—Ö, —Ç–æ—Ä–≥–æ–≤–ª–µ, —Ä–µ–º–µ—Å–ª–∞—Ö –≤ –ü–µ–Ω–∑–µ–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏</p>
                            <a href="exhibitions.html" class="btn-link">–ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Üí</a>
                        </div>
                    </div>

                    <div class="exhibition-card">
                        <div class="exhibition-image">
                            <!-- –ò–°–ü–†–ê–í–õ–ï–ù–û: —É–¥–∞–ª–µ–Ω—ã –ø—Ä–æ–±–µ–ª—ã –≤ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
                            <img src="https://via.placeholder.com/400x300/6b8e23/ffffff?text=–ü—Ä–∏—Ä–æ–¥–∞+–ü–µ–Ω–∑—ã"
                                alt="–ü—Ä–∏—Ä–æ–¥–∞ –ü–µ–Ω–∑–µ–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏">
                        </div>
                        <div class="exhibition-info">
                            <h3>–ü—Ä–∏—Ä–æ–¥–∞ –ü–µ–Ω–∑–µ–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏</h3>
                            <p class="exhibition-date">üìÖ –¥–æ 30 –∞–ø—Ä–µ–ª—è 2026</p>
                            <p>–§–ª–æ—Ä–∞ –∏ —Ñ–∞—É–Ω–∞ —Ä–µ–≥–∏–æ–Ω–∞, –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫–∏, —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –º–µ—Å—Ç–∞</p>
                            <a href="exhibitions.html" class="btn-link">–ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Üí</a>
                        </div>
                    </div>

                    <div class="exhibition-card">
                        <div class="exhibition-image">
                            <!-- –ò–°–ü–†–ê–í–õ–ï–ù–û: —É–¥–∞–ª–µ–Ω—ã –ø—Ä–æ–±–µ–ª—ã –≤ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
                            <img src="https://via.placeholder.com/400x300/8b4513/ffffff?text=–ù–∞—Ä–æ–¥—ã+–∫—Ä–∞—è"
                                alt="–ù–∞—Ä–æ–¥—ã –ü–µ–Ω–∑–µ–Ω—Å–∫–æ–≥–æ –∫—Ä–∞—è">
                        </div>
                        <div class="exhibition-info">
                            <h3>–ù–∞—Ä–æ–¥—ã –ü–µ–Ω–∑–µ–Ω—Å–∫–æ–≥–æ –∫—Ä–∞—è</h3>
                            <p class="exhibition-date">üìÖ –¥–æ 10 –º–∞—è 2026</p>
                            <p>–¢—Ä–∞–¥–∏—Ü–∏–∏, –∫—É–ª—å—Ç—É—Ä–∞, –±—ã—Ç –Ω–∞—Ä–æ–¥–æ–≤, –∂–∏–≤—É—â–∏—Ö –≤ —Ä–µ–≥–∏–æ–Ω–µ</p>
                            <a href="exhibitions.html" class="btn-link">–ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Üí</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π -->
        <section class="section bg-light">
            <div class="container">
                <h2 class="section-title">–ü–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –≤–∏–∑–∏—Ç –≤ –ù–∏–∫–æ–ª—å—Å–∫?</h2>
                <div class="visit-info">
                    <div class="info-item">
                        <div class="info-icon">üïí</div>
                        <h3>–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã</h3>
                        <p>–°—Ä-–í—Å: 10:00 - 17:00</p>
                        <p>–ü–Ω-–í—Ç: –≤—ã—Ö–æ–¥–Ω–æ–π</p>
                    </div>
                    <div class="info-item">
                        <div class="info-icon">üí∞</div>
                        <h3>–°—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–æ–≤</h3>
                        <p>–í–∑—Ä–æ—Å–ª—ã–µ: 200 ‚ÇΩ</p>
                        <p>–°—Ç—É–¥–µ–Ω—Ç—ã: 100 ‚ÇΩ</p>
                        <p>–î–µ—Ç–∏ –¥–æ 16: –±–µ—Å–ø–ª–∞—Ç–Ω–æ</p>
                    </div>
                    <div class="info-item">
                        <div class="info-icon">üìç</div>
                        <h3>–ê–¥—Ä–µ—Å</h3>
                        <p>–£–ª—å—è–Ω–æ–≤—Å–∫–∞—è —É–ª., 6–ë</p>
                        <p>–≥. –ù–∏–∫–æ–ª—å—Å–∫, –ü–µ–Ω–∑–µ–Ω—Å–∫–∞—è –æ–±–ª.</p>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 30px;">
                    <a href="visit.html" class="btn btn-primary">–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –ø–æ—Å–µ—â–µ–Ω–∏–∏</a>
                </div>
            </div>
        </section>

        <!-- –û –≥–æ—Ä–æ–¥–µ –ù–∏–∫–æ–ª—å—Å–∫ -->
        <section class="section" id="location-section">
            <div class="container">
                <h2 class="section-title">–ö–∞–∫ –Ω–∞—Å –Ω–∞–π—Ç–∏</h2>
                <div class="city-info">
                    <div class="city-description">
                        <p><strong>–ù–∏–∫–æ–ª—å—Å–∫–∏–π –º—É–∑–µ–π–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å (–ù–ò–ö–ú–ö)</strong> —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ —Ü–µ–Ω—Ç—Ä–µ –≥–æ—Ä–æ–¥–∞ –ù–∏–∫–æ–ª—å—Å–∫ –Ω–∞
                            –£–ª—å—è–Ω–æ–≤—Å–∫–æ–π —É–ª–∏—Ü–µ, 6–ë.</p>

                        <p>–ú—É–∑–µ–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π —á–∞—Å—Ç–∏ –≥–æ—Ä–æ–¥–∞, –Ω–µ–¥–∞–ª–µ–∫–æ –æ—Ç –∂–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω–æ–π —Å—Ç–∞–Ω—Ü–∏–∏. –ó–¥–∞–Ω–∏–µ
                            –º—É–∑–µ—è –ª–µ–≥–∫–æ —É–∑–Ω–∞—Ç—å –ø–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏ –≤—ã–≤–µ—Å–∫–µ.</p>

                        <p>–†—è–¥–æ–º —Å –º—É–∑–µ–µ–º —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞, –ø–∞—Ä–∫–æ–≤–∫–∞ –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –∏
                            –≤–µ–ª–æ—Å–∏–ø–µ–¥–Ω—ã–µ —Å—Ç–æ–π–∫–∏.</p>
                    </div>
                    <div class="city-map"
                        style="position: relative; overflow: hidden; border-radius: 10px; box-shadow: var(--shadow);">
                        <!-- –Ø–Ω–¥–µ–∫—Å –ö–∞—Ä—Ç–∞ —Å –º–µ—Ç–∫–æ–π –º—É–∑–µ—è -->
                        <div id="map" style="width: 100%; height: 400px; background: #e0e0e0;"></div>
                        <script type="text/javascript" charset="utf-8" async
                            src="https://api-maps.yandex.ru/services/constructor/1.0/js/?um=constructor%3A0dd916c8a4ef44d6e717988567196bc8cb151cd68805d6b2f8d9a3f9fb2c0247&amp;width=100%&amp;height=400&amp;lang=ru_RU&amp;scroll=true"></script>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h3>üèõÔ∏è –ù–∏–∫–æ–ª—å—Å–∫–∏–π –º—É–∑–µ–π–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å (–ù–ò–ö–ú–ö)</h3>
                    <p>–°–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Å—Ç–æ—Ä–∏—é –ü–µ–Ω–∑–µ–Ω—Å–∫–æ–≥–æ –∫—Ä–∞—è –¥–ª—è –±—É–¥—É—â–∏—Ö –ø–æ–∫–æ–ª–µ–Ω–∏–π</p>
                </div>
                <div class="footer-col">
                    <h4>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h4>
                    <p>üìû +7 (84145) 2-12-34</p>
                    <p>üìß info@museum-nikolsk.ru</p>
                    <p>üìç –£–ª—å—è–Ω–æ–≤—Å–∫–∞—è —É–ª., 6–ë, –≥. –ù–∏–∫–æ–ª—å—Å–∫, –ü–µ–Ω–∑–µ–Ω—Å–∫–∞—è –æ–±–ª.</p>
                </div>
                <div class="footer-col">
                    <h4>–°–æ—Ü—Å–µ—Ç–∏</h4>
                    <div class="social-links">
                        <!-- –ò–°–ü–†–ê–í–õ–ï–ù–û: —É–¥–∞–ª–µ–Ω—ã –ø—Ä–æ–±–µ–ª—ã –≤ —Å—Å—ã–ª–∫–µ -->
                        <a href="https://vk.com/public135165206">VK</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>¬© 2026 –ù–∏–∫–æ–ª—å—Å–∫–∏–π –º—É–∑–µ–π–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å (–ù–ò–ö–ú–ö). –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </div>
    </footer>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ Google Sheets
        async function loadNews() {
            try {
                // –ò–°–ü–†–ê–í–õ–ï–ù–û: —É–¥–∞–ª–µ–Ω—ã –ø—Ä–æ–±–µ–ª—ã –≤ —Å—Å—ã–ª–∫–µ
                const spreadsheetUrl = 'https://docs.google.com/spreadsheets/d/19MFPSy-RnJQstAQKus5RX4fKrctfZZWC8gM6C-oX1IQ/export?format=csv';

                const response = await fetch(spreadsheetUrl);
                const text = await response.text();

                // –ü–∞—Ä—Å–∏–º CSV
                const news = parseCSV(text);
                newsData = news;

                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–æ–≤–æ—Å—Ç—å –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω—É—é (–µ—Å–ª–∏ –µ—Å—Ç—å)
                if (news.length > 0) {
                    currentMainIndex = 0; // –ø–µ—Ä–≤–∞—è –≤ —Å–ø–∏—Å–∫–µ = –ø–æ—Å–ª–µ–¥–Ω—è—è –ø–æ –¥–∞—Ç–µ
                    showMainSlide(currentMainIndex);
                }

                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ –≤ –∫–∞—Ä—É—Å–µ–ª–∏
                renderCarousel();
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π:', error);
                if (document.getElementById('news-main-slide')) {
                    document.getElementById('news-main-slide').innerHTML =
                        '<div class="error-message">–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤–æ—Å—Ç–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.</div>';
                }
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ CSV
        function parseCSV(csvText) {
            const lines = csvText.trim().split(/\r?\n/); // –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤ —Å—Ç—Ä–æ–∫
            const headers = lines[0].split(',').map(h => h.trim());
            const result = [];

            for (let i = 1; i < lines.length; i++) {
                if (!lines[i].trim()) continue; // –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏

                // –ë–æ–ª–µ–µ —É–º–Ω—ã–π –ø–∞—Ä—Å–µ—Ä –¥–ª—è CSV —Å –∫–∞–≤—ã—á–∫–∞–º–∏
                const row = parseCSVRow(lines[i]);
                const obj = {};

                for (let j = 0; j < headers.length && j < row.length; j++) {
                    obj[headers[j].trim()] = row[j].trim();
                }

                // –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏
                if (obj['–ó–∞–≥–æ–ª–æ–≤–æ–∫'] && obj['–ó–∞–≥–æ–ª–æ–≤–æ–∫'].trim() !== '') {
                    result.push(obj);
                }
            }

            return result;
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–∞–∑–±–æ—Ä–∞ CSV —Å—Ç—Ä–æ–∫–∏
        function parseCSVRow(row) {
            const result = [];
            let current = '';
            let inQuotes = false;

            for (let i = 0; i < row.length; i++) {
                const char = row[i];

                if (char === '"') {
                    if (inQuotes && i + 1 < row.length && row[i + 1] === '"') {
                        // –î–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ –≤–Ω—É—Ç—Ä–∏ –∑–Ω–∞—á–µ–Ω–∏—è
                        current += '"';
                        i++; // –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–ª–µ–¥—É—é—â—É—é –∫–∞–≤—ã—á–∫—É
                    } else {
                        // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–∞–≤—ã—á–µ–∫
                        inQuotes = !inQuotes;
                    }
                } else if (char === ',' && !inQuotes) {
                    // –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –≤–Ω–µ –∫–∞–≤—ã—á–µ–∫
                    result.push(current);
                    current = '';
                } else {
                    current += char;
                }
            }

            result.push(current);
            return result;
        }

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Å–ª–∞–π–¥–µ—Ä–∞
        let newsData = [];
        let currentMainIndex = 0; // –∏–Ω–¥–µ–∫—Å —Ç–µ–∫—É—â–µ–π –≥–ª–∞–≤–Ω–æ–π –Ω–æ–≤–æ—Å—Ç–∏
        let currentCarouselIndex = 0; // –∏–Ω–¥–µ–∫—Å —Ç–µ–∫—É—â–µ–≥–æ —Å–ª–∞–π–¥–∞ –≤ –∫–∞—Ä—É—Å–µ–ª–∏
        let slidesPerPage = 3; // —Å–∫–æ–ª—å–∫–æ –º–∏–Ω–∏-–Ω–æ–≤–æ—Å—Ç–µ–π –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Å–ª–∞–π–¥ (–ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–æ–≤–æ—Å—Ç—å)
        function showMainSlide(index) {
            const news = newsData[index];
            if (!news || !document.getElementById('news-main-slide')) return;

            let formattedDate = news['–î–∞—Ç–∞'] || '–î–∞—Ç–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞';
            if (formattedDate.includes('-')) {
                const dateParts = formattedDate.split('-');
                formattedDate = `${dateParts[2]}.${dateParts[1]}.${dateParts[0]}`;
            }

            const imageUrl = news['–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (URL)'] || '';

            // –û—á–∏—â–∞–µ–º —Ç–µ–∫—Å—Ç –æ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
            let fullText = news['–¢–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏'] || '';
            fullText = fullText.replace(/"/g, '').replace(/'/g, ''); // —É–±–∏—Ä–∞–µ–º –∫–∞–≤—ã—á–∫–∏

            let displayText = fullText;

            // –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π, –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –µ–≥–æ
            if (fullText.length > 500) {
                displayText = fullText.substring(0, 500) + '...';
            }

            const mainSlideHtml = `
                <div class="main-slide">
                    ${imageUrl ? `<img src="${imageUrl}" alt="${news['–ó–∞–≥–æ–ª–æ–≤–æ–∫'] || '–ù–æ–≤–æ—Å—Ç—å'}" class="main-slide-image">` : ''}
                    <div class="main-slide-content">
                        <div class="main-slide-date">${formattedDate}</div>
                        <h3>${news['–ó–∞–≥–æ–ª–æ–≤–æ–∫'] || '–ë–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞'}</h3>
                        <p class="main-slide-full-text">${displayText}</p>
                        ${fullText.length > 500 ? `<button class="read-more-btn" onclick="toggleFullText(this)">–ß–∏—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é</button>` : ''}
                    </div>
                </div>
            `;

            document.getElementById('news-main-slide').innerHTML = mainSlideHtml;
        }

        // –†–µ–Ω–¥–µ—Ä–∏–º –∫–∞—Ä—É—Å–µ–ª—å —Å –º–∏–Ω–∏-–Ω–æ–≤–æ—Å—Ç—è–º–∏
        function renderCarousel() {
            if (!document.getElementById('carousel-inner')) return;

            if (newsData.length <= 1) {
                document.getElementById('carousel-inner').innerHTML =
                    '<div class="carousel-no-news">–ù–µ—Ç –¥—Ä—É–≥–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>';
                return;
            }

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ –Ω–æ–≤–æ—Å—Ç–∏ –∫—Ä–æ–º–µ –ø–µ—Ä–≤–æ–π (–æ–Ω–∞ —É–∂–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–ª–∞–π–¥–µ)
            const miniNews = newsData.slice(1);

            const carouselHtml = miniNews.map((news, index) => {
                let formattedDate = news['–î–∞—Ç–∞'] || '–î–∞—Ç–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞';
                if (formattedDate.includes('-')) {
                    const dateParts = formattedDate.split('-');
                    formattedDate = `${dateParts[2]}.${dateParts[1]}.${dateParts[0]}`;
                }

                const imageUrl = news['–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (URL)'] || '';

                // –û—á–∏—â–∞–µ–º —Ç–µ–∫—Å—Ç
                let shortText = news['–¢–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏'] || '';
                shortText = shortText.replace(/"/g, '').replace(/'/g, '');

                // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —Ç–µ–∫—Å—Ç –¥–ª—è –º–∏–Ω–∏-—Å–ª–∞–π–¥–æ–≤
                if (shortText.length > 100) {
                    shortText = shortText.substring(0, 100) + '...';
                }

                return `
                    <div class="carousel-slide" onclick="selectMiniSlide(${index})">
                        ${imageUrl ? `<img src="${imageUrl}" alt="${news['–ó–∞–≥–æ–ª–æ–≤–æ–∫'] || '–ù–æ–≤–æ—Å—Ç—å'}">` : ''}
                        <div class="carousel-slide-content">
                            <div class="carousel-slide-date">${formattedDate}</div>
                            <h4>${news['–ó–∞–≥–æ–ª–æ–≤–æ–∫'] || '–ë–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞'}</h4>
                            <p class="mini-slide-text">${shortText}</p>
                        </div>
                    </div>
                `;
            }).join('');

            document.getElementById('carousel-inner').innerHTML = carouselHtml;

            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–∞–π–¥–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏
            updateSlidesPerPage();
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–∞–π–¥–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
        function updateSlidesPerPage() {
            if (!document.querySelector('.carousel-wrapper')) return;

            const containerWidth = document.querySelector('.carousel-wrapper').offsetWidth;
            slidesPerPage = Math.max(1, Math.floor(containerWidth / 270)); // 270px –Ω–∞ —Å–ª–∞–π–¥
            updateCarouselPosition();
        }

        // –í—ã–±–æ—Ä –º–∏–Ω–∏-–Ω–æ–≤–æ—Å—Ç–∏ –∏–∑ –∫–∞—Ä—É—Å–µ–ª–∏
        function selectMiniSlide(index) {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –º–∏–Ω–∏-–Ω–æ–≤–æ—Å—Ç—å –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω—É—é
            currentMainIndex = index + 1; // +1 –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–µ—Ä–≤–∞—è –Ω–æ–≤–æ—Å—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∞ –∏–∑ –∫–∞—Ä—É—Å–µ–ª–∏
            showMainSlide(currentMainIndex);

            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫–∞—Ä—É—Å–µ–ª—å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Å–ª–∞–π–¥—É
            currentCarouselIndex = index;
            updateCarouselPosition();
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–ª–∞–π–¥–æ–≤ –≤ –∫–∞—Ä—É—Å–µ–ª–∏
        function changeSlide(direction) {
            if (newsData.length <= 1) return;

            const totalSlides = newsData.length - 1; // –º–∏–Ω—É—Å –æ—Å–Ω–æ–≤–Ω–æ–π —Å–ª–∞–π–¥

            if (totalSlides <= slidesPerPage) return; // –Ω–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞—Ç—å

            currentCarouselIndex += direction;

            if (currentCarouselIndex < 0) {
                currentCarouselIndex = 0;
            } else if (currentCarouselIndex > totalSlides - slidesPerPage) {
                currentCarouselIndex = totalSlides - slidesPerPage;
            }

            updateCarouselPosition();
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é –∫–∞—Ä—É—Å–µ–ª–∏
        function updateCarouselPosition() {
            if (!document.getElementById('carousel-inner')) return;

            const translateX = -currentCarouselIndex * (250 + 20); // —à–∏—Ä–∏–Ω–∞ —Å–ª–∞–π–¥–∞ + gap
            document.getElementById('carousel-inner').style.transform = `translateX(${translateX}px)`;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
        function toggleFullText(button) {
            const fullTextElement = button.previousElementSibling;
            const originalText = button.dataset.originalText;

            if (!button.dataset.originalText) {
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç (–æ—á–∏—â–µ–Ω–Ω—ã–π)
                let original = newsData[currentMainIndex]['–¢–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏'] || '';
                original = original.replace(/"/g, '').replace(/'/g, '');
                button.dataset.originalText = original;
            }

            if (fullTextElement.textContent.endsWith('...')) {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç
                fullTextElement.textContent = button.dataset.originalText;
                fullTextElement.style.maxHeight = 'none'; // —Ä–∞–∑—Ä–µ—à–∞–µ–º –ø–æ–ª–Ω—ã–π —Ä–æ—Å—Ç
                button.textContent = '–°–≤–µ—Ä–Ω—É—Ç—å';
            } else {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
                let shortText = button.dataset.originalText;
                if (shortText.length > 500) {
                    shortText = shortText.substring(0, 500) + '...';
                }
                fullTextElement.textContent = shortText;
                fullTextElement.style.maxHeight = '300px'; // –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –≤—ã—Å–æ—Ç—É
                button.textContent = '–ß–∏—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é';
            }
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–∞–π–¥–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
        window.addEventListener('resize', updateSlidesPerPage);

        // –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–æ–≤–æ—Å—Ç–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç)
        document.addEventListener('DOMContentLoaded', function () {
            if (document.getElementById('news-main-slide')) {
                loadNews();
            }
        });

        // –û–±–Ω–æ–≤–ª—è–µ–º –Ω–æ–≤–æ—Å—Ç–∏ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç (300000 –º—Å)
        setInterval(function () {
            if (document.getElementById('news-main-slide')) {
                loadNews();
            }
        }, 300000);
    </script>

    <script src="js/script.js"></script>
</body>

</html>
